(()=>{"use strict";function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var t=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this._url=e.url,this._headers=e.headers}var n,r;return n=t,(r=[{key:"_getResponse",value:function(e){return e.ok?e.json():Promise.reject("Ошибка: ".concat(e.status))}},{key:"getInitialCards",value:function(){var e=this;return fetch("".concat(this._url,"/cards"),{headers:this._headers}).then((function(t){return e._getResponse(t)}))}},{key:"getUserInfo",value:function(){var e=this;return fetch("".concat(this._url,"/users/me"),{headers:this._headers}).then((function(t){return e._getResponse(t)}))}},{key:"editUserInfo",value:function(e){var t=this;return fetch("".concat(this._url,"/users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify(e)}).then((function(e){return t._getResponse(e)}))}},{key:"updateAvatar",value:function(e){var t=this;return fetch("".concat(this._url,"/users/me/avatar"),{method:"PATCH",headers:this._headers,body:JSON.stringify(e)}).then((function(e){return t._getResponse(e)}))}},{key:"addCard",value:function(e){var t=this;return fetch("".concat(this._url,"/cards"),{method:"POST",headers:this._headers,body:JSON.stringify(e)}).then((function(e){return t._getResponse(e)}))}}])&&e(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}(),n={formSelector:".popup__container",inputSelector:".popup__field",submitButtonSelector:".popup__btn-submit",inactiveButtonClass:"popup__btn-submit_disabled",inputErrorClass:"popup__field_invalid",errorClass:"popup__error-message_visible"},r={cardSelector:".photo-card-template",oneCardSelector:".photo-card",likeButtonSelector:".photo-card__like",activeLikeClass:"photo-card__like_active",deleteButtonSelector:".photo-card__btn-delete",imageSelector:".photo-card__image",textSelector:".photo-card__text"};function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=function(){function e(t,n,r,o){var a=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),i(this,"_handleLikeButton",(function(){a._likeButton.classList.toggle(a._cardConfig.activeLikeClass)})),i(this,"_handleDeleteButton",(function(){a._element.remove(),a._element=null})),this._cardConfig=r,this._name=t.name,this._link=t.link,this._handleCardClick=o,this._userId=n}var t,n;return t=e,(n=[{key:"_getTemplate",value:function(){return document.querySelector(this._cardConfig.cardSelector).content.querySelector(this._cardConfig.oneCardSelector).cloneNode(!0)}},{key:"_setEventListeners",value:function(){var e=this;this._element.querySelector(this._cardConfig.imageSelector).addEventListener("click",(function(){return e._handleCardClick(e._link,e._name)})),this._likeButton=this._element.querySelector(this._cardConfig.likeButtonSelector),this._likeButton.addEventListener("click",this._handleLikeButton),this._element.querySelector(this._cardConfig.deleteButtonSelector).addEventListener("click",this._handleDeleteButton)}},{key:"generateCard",value:function(){return this._element=this._getTemplate(),this._image=this._element.querySelector(this._cardConfig.imageSelector),this._setEventListeners(),this._image.src=this._link,this._image.alt=this._name,this._element.querySelector(this._cardConfig.textSelector).textContent=this._name,this._element}}])&&o(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var c=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._validationConfig=t,this._formElement=n,this._inputList=Array.from(this._formElement.querySelectorAll(this._validationConfig.inputSelector)),this._buttonElement=this._formElement.querySelector(this._validationConfig.submitButtonSelector)}var t,n;return t=e,(n=[{key:"_showInputError",value:function(e){var t=this._formElement.querySelector(".".concat(e.id,"-error"));e.classList.add(this._validationConfig.inputErrorClass),t.textContent=e.validationMessage,t.classList.add(this._validationConfig.errorClass)}},{key:"_hideInputError",value:function(e){var t=this._formElement.querySelector(".".concat(e.id,"-error"));e.classList.remove(this._validationConfig.inputErrorClass),t.textContent="",t.classList.remove(this._validationConfig.errorClass)}},{key:"clearErrors",value:function(){var e=this;this._inputList.forEach((function(t){e._hideInputError(t)})),this._toggleButtonState()}},{key:"_hasInvalidInput",value:function(){return this._inputList.some((function(e){return!e.validity.valid}))}},{key:"_toggleButtonState",value:function(){this._hasInvalidInput()?(this._buttonElement.classList.add(this._validationConfig.inactiveButtonClass),this._buttonElement.setAttribute("disabled",!0)):(this._buttonElement.classList.remove(this._validationConfig.inactiveButtonClass),this._buttonElement.removeAttribute("disabled",!0))}},{key:"_checkInputValidity",value:function(e){e.validity.valid?this._hideInputError(e):this._showInputError(e)}},{key:"_setEventListeners",value:function(){var e=this;this._inputList.forEach((function(t){t.addEventListener("input",(function(){e._checkInputValidity(t),e._toggleButtonState()}))})),this._toggleButtonState()}},{key:"enableValidation",value:function(){this._setEventListeners()}}])&&u(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var l=function(){function e(t,n){var r=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._renderer=r,this._container=document.querySelector(n)}var t,n;return t=e,(n=[{key:"addItem",value:function(e){this._container.prepend(e)}},{key:"renderItems",value:function(e){var t=this;e.forEach((function(e){return t._renderer(e)}))}}])&&s(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var p=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._popup=document.querySelector(t),this._handleEscClose=this._handleEscClose.bind(this)}var t,n;return t=e,(n=[{key:"open",value:function(){this._popup.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popup.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"_handleClosePopupToOverlayOrButton",value:function(e){(e.target.classList.contains("popup")||e.target.classList.contains("popup__btn-close"))&&this.close()}},{key:"_handleEscClose",value:function(e){"Escape"===e.key&&this.close()}},{key:"setEventListeners",value:function(){var e=this;this._popup.addEventListener("mousedown",(function(t){e._handleClosePopupToOverlayOrButton(t)}))}}])&&f(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(){return y="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=_(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},y.apply(this,arguments)}function _(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=m(e)););return e}function v(e,t){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},v(e,t)}function b(e,t){if(t&&("object"===h(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=m(r);if(o){var n=m(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return b(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e))._popupCaption=t._popup.querySelector(".photo-popup__caption"),t._popupImage=t._popup.querySelector(".photo-popup__image"),t}return t=a,(n=[{key:"open",value:function(e,t){this._popupImage.src=e,this._popupCaption.alt=t,this._popupCaption.textContent=t,y(m(a.prototype),"open",this).call(this)}}])&&d(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(p);function S(e){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S(e)}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(){return E="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=k(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},E.apply(this,arguments)}function k(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=j(e)););return e}function C(e,t){return C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},C(e,t)}function O(e,t){if(t&&("object"===S(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function j(e){return j=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},j(e)}var P=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&C(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=j(r);if(o){var n=j(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return O(this,e)});function a(e,t){var n,r=t.handleSubmit;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,e))._handleSubmit=r,n._form=n._popup.querySelector(".popup__container"),n._inputs=n._form.querySelectorAll(".popup__field"),n}return t=a,(n=[{key:"_getInputValues",value:function(){var e={};return this._inputs.forEach((function(t){e[t.name]=t.value})),e}},{key:"setEventListeners",value:function(){var e=this;this._form.addEventListener("submit",(function(t){t.preventDefault(),e._handleSubmit(e._getInputValues()),e.close()})),E(j(a.prototype),"setEventListeners",this).call(this)}}])&&w(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(p);function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var L=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._userData=t,this._userName=document.querySelector(t.userNameSelector),this._userJob=document.querySelector(t.userJobSelector),this._avatar=document.querySelector(t.userAvatarSelector)}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return this._userInfo={name:this._userName.textContent,about:this._userJob.textContent},this._userInfo}},{key:"setUserInfo",value:function(e){this._userName.textContent=e.name,this._userJob.textContent=e.about,this._avatar.src=e.avatar}}])&&I(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var B=".profile__image",R={userNameSelector:".profile__name",userJobSelector:".profile__job",userAvatarSelector:B},T=document.querySelector(".edit-popup__container"),A=document.querySelector(".avatar-popup__container"),x=document.querySelector(".add-popup__container[name='add-photo']"),U=document.querySelector(".profile__edit-button"),N=document.querySelector(".profile__add-button"),D=new c(n,T),J=new c(n,x),V=new c(n,A);D.enableValidation(),J.enableValidation(),V.enableValidation();var F,H=new t({url:"https://mesto.nomoreparties.co/v1/cohort-47",headers:{authorization:"3b67ac11-b29e-4182-9110-a6f8ab5d8b17","Content-Type":"application/json"}});Promise.all([H.getUserInfo(),H.getInitialCards()]).then((function(e){var t,n,r=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?q(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],i=r[1];F=o._id,console.log([o,i]),K.setUserInfo(o),G.renderItems(i)})).catch((function(e){console.log(e)}));var M=new g(".photo-popup");function z(e,t){M.open(e,t)}M.setEventListeners();var $=function(e){return new a({name:e.name,link:e.link,userId:e.userId},F,r,z).generateCard()},G=new l({renderer:function(e){var t=$(e);G.addItem(t)}},".photos__list"),K=new L(R),Q=new P(".edit-popup",{handleSubmit:function(e){H.editUserInfo(e).then((function(e){K.setUserInfo(e)})).catch((function(e){return console.log("Error: ".concat(e))}))}});Q.setEventListeners();var W=new P(".avatar-popup",{handleSubmit:function(e){H.updateAvatar(e).then((function(e){K.setUserInfo(e)})).catch((function(e){return console.log("Error: ".concat(e))}))}});W.setEventListeners();var X=new P(".add-popup",{handleSubmit:function(e){var t=e.caption,n=e.link,r=$({name:t,link:n});G.addItem(r)}});X.setEventListeners(),N.addEventListener("click",(function(e){X.open(),x.reset(),validatorFormAdd.clearErrors()})),U.addEventListener("click",(function(e){Q.open(),K.getUserInfo(),validatorFormEdit.clearErrors()})),document.querySelector(B).addEventListener("click",(function(e){W.open(),K.getUserInfo(),V.clearErrors()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsIm1hcHBpbmdzIjoiNkxBQXFCQSxFQUFBQSxXQUNqQixXQUFZQyxJLDRGQUFTLFNBQ25CQyxLQUFLQyxLQUFPRixFQUFRRyxJQUNwQkYsS0FBS0csU0FBV0osRUFBUUssT0FDekIsQyxpREFFRixTQUFhQyxHQUNaLE9BQUlBLEVBQUlDLEdBQ0NELEVBQUlFLE9BRUpDLFFBQVFDLE9BQVIsa0JBQTBCSixFQUFJSyxRQUN2QyxHLDZCQUdBLFdBQWtCLFdBQ2hCLE9BQU9DLE1BQU0sR0FBRCxPQUFJWCxLQUFLQyxLQUFULFVBQXVCLENBQ2pDRyxRQUFTSixLQUFLRyxXQUVmUyxNQUFLLFNBQUNQLEdBQUQsT0FBUyxFQUFNUSxhQUFhUixFQUE1QixHQUVULEcseUJBR0MsV0FBYyxXQUNaLE9BQU9NLE1BQU0sR0FBRCxPQUFJWCxLQUFLQyxLQUFULGFBQTBCLENBQ3BDRyxRQUFTSixLQUFLRyxXQUViUyxNQUFLLFNBQUNQLEdBQUQsT0FBUyxFQUFNUSxhQUFhUixFQUE1QixHQUNULEcsMEJBR0QsU0FBYVMsR0FBTSxXQUNqQixPQUFPSCxNQUFNLEdBQUQsT0FBSVgsS0FBS0MsS0FBVCxhQUEwQixDQUNwQ2MsT0FBUSxRQUNSWCxRQUFTSixLQUFLRyxTQUNkYSxLQUFNQyxLQUFLQyxVQUFVSixLQUV0QkYsTUFBSyxTQUFDUCxHQUFELE9BQVMsRUFBTVEsYUFBYVIsRUFBNUIsR0FDUCxHLDBCQUdDLFNBQWFTLEdBQU0sV0FDakIsT0FBT0gsTUFBTSxHQUFELE9BQUlYLEtBQUtDLEtBQVQsb0JBQWlDLENBQzNDYyxPQUFRLFFBQ1JYLFFBQVNKLEtBQUtHLFNBQ2RhLEtBQU1DLEtBQUtDLFVBQVVKLEtBRXhCRixNQUFLLFNBQUNQLEdBQUQsT0FBUyxFQUFNUSxhQUFhUixFQUE1QixHQUNQLEcscUJBR0EsU0FBUVMsR0FBTSxXQUNYLE9BQU9ILE1BQU0sR0FBRCxPQUFJWCxLQUFLQyxLQUFULFVBQXVCLENBQ2pDYyxPQUFRLE9BQ1JYLFFBQVNKLEtBQUtHLFNBQ2RhLEtBQU1DLEtBQUtDLFVBQVVKLEtBRXRCRixNQUFLLFNBQUNQLEdBQUQsT0FBUyxFQUFNUSxhQUFhUixFQUE1QixHQUNQLE0sc0VBMURjUCxHQ0FOcUIsRUFBbUIsQ0FDOUJDLGFBQWMsb0JBQ2RDLGNBQWUsZ0JBQ2ZDLHFCQUFzQixxQkFDdEJDLG9CQUFxQiw2QkFDckJDLGdCQUFpQix1QkFDakJDLFdBQVksZ0NBR0RDLEVBQWEsQ0FDeEJDLGFBQWMsdUJBQ2RDLGdCQUFpQixjQUNqQkMsbUJBQW9CLG9CQUNwQkMsZ0JBQWlCLDBCQUNqQkMscUJBQXNCLDBCQUN0QkMsY0FBZSxxQkFDZkMsYUFBYyxxQixrU0NoQkdDLEVBQUFBLFdBQ25CLFdBQVlDLEVBQVNDLEVBQVFWLEVBQVlXLEdBQWlCLFksNEZBQUEscUNBZ0J0QyxXQUNsQixFQUFLQyxZQUFZQyxVQUFVQyxPQUFPLEVBQUtDLFlBQVlYLGdCQUNyRCxJQWxCMEQsOEJBb0JyQyxXQUNsQixFQUFLWSxTQUFTQyxTQUNkLEVBQUtELFNBQVcsSUFDbkIsSUF0QkUxQyxLQUFLeUMsWUFBY2YsRUFDbkIxQixLQUFLNEMsTUFBUVQsRUFBUVUsS0FDckI3QyxLQUFLOEMsTUFBUVgsRUFBUVksS0FDckIvQyxLQUFLZ0QsaUJBQW1CWCxFQUN4QnJDLEtBQUtpRCxRQUFVYixDQUNoQixDLGlEQUVILFdBS00sT0FKbUJjLFNBQVNDLGNBQWNuRCxLQUFLeUMsWUFBWWQsY0FDeER5QixRQUNBRCxjQUFjbkQsS0FBS3lDLFlBQVliLGlCQUMvQnlCLFdBQVUsRUFFaEIsRyxnQ0FXRCxXQUFxQixXQUNuQnJELEtBQUswQyxTQUFTUyxjQUFjbkQsS0FBS3lDLFlBQVlULGVBQzVDc0IsaUJBQWlCLFNBQVMsa0JBQU0sRUFBS04saUJBQWlCLEVBQUtGLE1BQU8sRUFBS0YsTUFBN0MsSUFDM0I1QyxLQUFLc0MsWUFBY3RDLEtBQUswQyxTQUFTUyxjQUFjbkQsS0FBS3lDLFlBQVlaLG9CQUNoRTdCLEtBQUtzQyxZQUFZZ0IsaUJBQWlCLFFBQVN0RCxLQUFLdUQsbUJBQ2hEdkQsS0FBSzBDLFNBQVNTLGNBQWNuRCxLQUFLeUMsWUFBWVYsc0JBQzVDdUIsaUJBQWlCLFFBQVN0RCxLQUFLd0Qsb0JBQ2pDLEcsMEJBRUQsV0FRRyxPQVBBeEQsS0FBSzBDLFNBQVcxQyxLQUFLeUQsZUFDckJ6RCxLQUFLMEQsT0FBUzFELEtBQUswQyxTQUFTUyxjQUFjbkQsS0FBS3lDLFlBQVlULGVBQzNEaEMsS0FBSzJELHFCQUNMM0QsS0FBSzBELE9BQU9FLElBQU01RCxLQUFLOEMsTUFDdkI5QyxLQUFLMEQsT0FBT0csSUFBTTdELEtBQUs0QyxNQUN2QjVDLEtBQUswQyxTQUFTUyxjQUFjbkQsS0FBS3lDLFlBQVlSLGNBQWM2QixZQUFjOUQsS0FBSzRDLE1BRXZFNUMsS0FBSzBDLFFBQ2IsTSxzRUE1Q2lCUixHLDBLQ0VHNkIsRUFBQUEsV0FDbEIsV0FBWTVDLEVBQWtCNkMsSSw0RkFBYSxTQUMzQ2hFLEtBQUtpRSxrQkFBb0I5QyxFQUN6Qm5CLEtBQUtrRSxhQUFlRixFQUNwQmhFLEtBQUttRSxXQUFhQyxNQUFNQyxLQUFLckUsS0FBS2tFLGFBQWFJLGlCQUFpQnRFLEtBQUtpRSxrQkFBa0I1QyxnQkFDdkZyQixLQUFLdUUsZUFBaUJ2RSxLQUFLa0UsYUFBYWYsY0FBY25ELEtBQUtpRSxrQkFBa0IzQyxxQkFDOUUsQyxvREFFSCxTQUFnQmtELEdBQ2QsSUFBTUMsRUFBZXpFLEtBQUtrRSxhQUFhZixjQUFsQixXQUFvQ3FCLEVBQWFFLEdBQWpELFdBQ3JCRixFQUFhakMsVUFBVW9DLElBQUkzRSxLQUFLaUUsa0JBQWtCekMsaUJBQ2xEaUQsRUFBYVgsWUFBY1UsRUFBYUksa0JBQ3hDSCxFQUFhbEMsVUFBVW9DLElBQUkzRSxLQUFLaUUsa0JBQWtCeEMsV0FDbkQsRyw2QkFFRCxTQUFnQitDLEdBQ2QsSUFBTUMsRUFBZXpFLEtBQUtrRSxhQUFhZixjQUFsQixXQUFvQ3FCLEVBQWFFLEdBQWpELFdBQ3JCRixFQUFhakMsVUFBVUksT0FBTzNDLEtBQUtpRSxrQkFBa0J6QyxpQkFDckRpRCxFQUFhWCxZQUFjLEdBQzNCVyxFQUFhbEMsVUFBVUksT0FBTzNDLEtBQUtpRSxrQkFBa0J4QyxXQUN0RCxHLHlCQUVELFdBQWMsV0FDWHpCLEtBQUttRSxXQUFXVSxTQUFRLFNBQUNMLEdBQ3pCLEVBQUtNLGdCQUFnQk4sRUFDdEIsSUFDQ3hFLEtBQUsrRSxvQkFDUCxHLDhCQUVBLFdBQ0MsT0FBTy9FLEtBQUttRSxXQUFXYSxNQUFLLFNBQUNSLEdBQzdCLE9BQVFBLEVBQWFTLFNBQVNDLEtBQy9CLEdBQ0EsRyxnQ0FFRCxXQUNNbEYsS0FBS21GLG9CQUNQbkYsS0FBS3VFLGVBQWVoQyxVQUFVb0MsSUFBSTNFLEtBQUtpRSxrQkFBa0IxQyxxQkFDekR2QixLQUFLdUUsZUFBZWEsYUFBYSxZQUFZLEtBRTdDcEYsS0FBS3VFLGVBQWVoQyxVQUFVSSxPQUFPM0MsS0FBS2lFLGtCQUFrQjFDLHFCQUM3RHZCLEtBQUt1RSxlQUFlYyxnQkFBZ0IsWUFBWSxHQUVsRCxHLGlDQUVELFNBQW9CYixHQUNiQSxFQUFhUyxTQUFTQyxNQUd6QmxGLEtBQUs4RSxnQkFBZ0JOLEdBRnJCeEUsS0FBS3NGLGdCQUFnQmQsRUFJeEIsRyxnQ0FFRCxXQUFxQixXQUNqQnhFLEtBQUttRSxXQUFXVSxTQUFRLFNBQUFMLEdBQ25CQSxFQUFhbEIsaUJBQWlCLFNBQVMsV0FDdkMsRUFBS2lDLG9CQUFvQmYsR0FDekIsRUFBS08sb0JBQ1QsR0FDRixJQUNHL0UsS0FBSytFLG9CQUNWLEcsOEJBRUEsV0FDRy9FLEtBQUsyRCxvQkFDUixNLHNFQWpFcUJJLEcsMEtDRkh5QixFQUFBQSxXQUNqQixhQUEwQkMsR0FBbUIsSUFBL0JDLEVBQStCLEVBQS9CQSxVLDRGQUErQixTQUN6QzFGLEtBQUsyRixVQUFZRCxFQUNqQjFGLEtBQUs0RixXQUFhMUMsU0FBU0MsY0FBY3NDLEVBQzVDLEMsNENBRUQsU0FBUXRELEdBQ0puQyxLQUFLNEYsV0FBV0MsUUFBUTFELEVBRTNCLEcseUJBRUQsU0FBWTJELEdBQU8sV0FDZkEsRUFBTWpCLFNBQVEsU0FBQWtCLEdBQUksT0FBSSxFQUFLSixVQUFVSSxFQUFuQixHQUNuQixNLHNFQWJjUCxHLDBLQ0FBUSxFQUFBQSxXQUNqQixXQUFZQyxJLDRGQUFlLFNBQ3BCakcsS0FBS2tHLE9BQVNoRCxTQUFTQyxjQUFjOEMsR0FDckNqRyxLQUFLbUcsZ0JBQWtCbkcsS0FBS21HLGdCQUFnQkMsS0FBS3BHLEtBQ3ZELEMseUNBRUQsV0FDSUEsS0FBS2tHLE9BQU8zRCxVQUFVb0MsSUFBSSxnQkFDMUJ6QixTQUFTSSxpQkFBaUIsVUFBV3RELEtBQUttRyxnQkFDN0MsRyxtQkFFRCxXQUNJbkcsS0FBS2tHLE9BQU8zRCxVQUFVSSxPQUFPLGdCQUM3Qk8sU0FBU21ELG9CQUFvQixVQUFXckcsS0FBS21HLGdCQUNoRCxHLGdEQUVELFNBQW1DRyxJQUM5QkEsRUFBRUMsT0FBT2hFLFVBQVVpRSxTQUFTLFVBQVVGLEVBQUVDLE9BQU9oRSxVQUFVaUUsU0FBUyxzQkFDbkV4RyxLQUFLeUcsT0FFUixHLDZCQUVELFNBQWdCSCxHQUNELFdBQVZBLEVBQUVJLEtBQ0gxRyxLQUFLeUcsT0FFUixHLCtCQUVELFdBQW9CLFdBQ2pCekcsS0FBS2tHLE9BQU81QyxpQkFBaUIsYUFBYSxTQUFDZ0QsR0FDdkMsRUFBS0ssbUNBQW1DTCxFQUM1QyxHQUNILE0sc0VBaENpQk4sRyx5d0NDQUFZLEVBQUFBLFNBQUFBLEksNnJCQUNqQixXQUFZWCxHQUFlLGEsNEZBQUEsVUFDdkIsY0FBTUEsSUFDRFksY0FBZ0IsRUFBS1gsT0FBTy9DLGNBQWMseUJBQy9DLEVBQUsyRCxZQUFjLEVBQUtaLE9BQU8vQyxjQUFjLHVCQUh0QixDQUkxQixDLGlDQUVELFNBQUtKLEVBQU1GLEdBRVA3QyxLQUFLOEcsWUFBWWxELElBQU1iLEVBQ3ZCL0MsS0FBSzZHLGNBQWNoRCxJQUFNaEIsRUFDekI3QyxLQUFLNkcsY0FBYy9DLFlBQWNqQixFQUNqQyx3Q0FDSCxNLHNFQWJnQitELENBQXVCWixHLHl3Q0NDdkJlLEVBQUFBLFNBQUFBLEksNnJCQUNqQixXQUFZZCxFQUFaLEdBQTJDLE1BQWZlLEVBQWUsRUFBZkEsYUFBZSxPLDRGQUFBLFVBQ3ZDLGNBQU1mLElBQ0RnQixjQUFnQkQsRUFDckIsRUFBS0UsTUFBUSxFQUFLaEIsT0FBTy9DLGNBQWMscUJBQ3ZDLEVBQUtnRSxRQUFVLEVBQUtELE1BQU01QyxpQkFBaUIsaUJBSkosQ0FLMUMsQyw0Q0FDRCxXQUNJLElBQU04QyxFQUFTLENBQUMsRUFJaEIsT0FIQXBILEtBQUttSCxRQUFRdEMsU0FBUSxTQUFBd0MsR0FDakJELEVBQU9DLEVBQU14RSxNQUFRd0UsRUFBTUMsS0FDOUIsSUFDTUYsQ0FDVixHLCtCQUVELFdBQW9CLFdBQ2pCcEgsS0FBS2tILE1BQU01RCxpQkFBaUIsVUFBVSxTQUFDZ0QsR0FDcENBLEVBQUVpQixpQkFDRixFQUFLTixjQUFjLEVBQUtPLG1CQUN4QixFQUFLZixPQUNULElBQ0QscURBQ0EsTSxzRUF0QmdCTSxDQUFzQmYsRywwS0NEdEJ5QixFQUFBQSxXQUNqQixXQUFZQyxJLDRGQUFVLFNBQ25CMUgsS0FBSzJILFVBQVlELEVBQ2pCMUgsS0FBSzRILFVBQVkxRSxTQUFTQyxjQUFjdUUsRUFBU0csa0JBQ2pEN0gsS0FBSzhILFNBQVc1RSxTQUFTQyxjQUFjdUUsRUFBU0ssaUJBQ2hEL0gsS0FBS2dJLFFBQVU5RSxTQUFTQyxjQUFjdUUsRUFBU08sbUJBQ2pELEMsZ0RBR0QsV0FLQSxPQUpBakksS0FBS2tJLFVBQVksQ0FDYnJGLEtBQU03QyxLQUFLNEgsVUFBVTlELFlBQ3JCcUUsTUFBT25JLEtBQUs4SCxTQUFTaEUsYUFFbEI5RCxLQUFLa0ksU0FDWCxHLHlCQUdELFNBQVlFLEdBQ1JwSSxLQUFLNEgsVUFBVTlELFlBQWNzRSxFQUFLdkYsS0FDbEM3QyxLQUFLOEgsU0FBU2hFLFlBQWNzRSxFQUFLRCxNQUNqQ25JLEtBQUtnSSxRQUFRcEUsSUFBTXdFLEVBQUtDLE1BQzNCLE0sc0VBdEJnQlosRywwR0NTckIsSUFFTVEsRUFBcUIsa0JBQ3JCUCxFQUFXLENBQUNHLGlCQUhPLGlCQUdXRSxnQkFGWixnQkFFNkJFLG1CQUFBQSxHQUMvQ0ssRUFBa0JwRixTQUFTQyxjQUFjLDBCQUN6Q29GLEVBQXdCckYsU0FBU0MsY0FBYyw0QkFDL0NxRixFQUFpQnRGLFNBQVNDLGNBQWMsMkNBQ3hDc0YsRUFBYXZGLFNBQVNDLGNBQWMseUJBQ3BDdUYsRUFBaUJ4RixTQUFTQyxjQUFjLHdCQUN4Q3dGLEVBQW9CLElBQUk1RSxFQUFjNUMsRUFBa0JtSCxHQUN4RE0sRUFBbUIsSUFBSTdFLEVBQWM1QyxFQUFrQnFILEdBQ3ZESyxFQUFzQixJQUFJOUUsRUFBYzVDLEVBQWtCb0gsR0FJaEVJLEVBQWtCRyxtQkFDbEJGLEVBQWlCRSxtQkFDakJELEVBQW9CQyxtQkFFcEIsSUFFSTFHLEVBRkUyRyxFQUFNLElBQUlqSixFUlRZLENBQ3hCSSxJQUFLLDhDQUNMRSxRQUFTLENBQ1A0SSxjQUFlLHVDQUNmLGVBQWdCLHNCUVN0QnhJLFFBQVF5SSxJQUFJLENBQUNGLEVBQUlHLGNBQWVILEVBQUlJLG9CQUMvQnZJLE1BQUssWUFBbUIsSSxJQUFBLEcsRUFBQSxFLDRDQUFBLEksZ3hCQUFqQndILEVBQWlCLEtBQVhnQixFQUFXLEtBQ3ZCaEgsRUFBU2dHLEVBQUtpQixJQUNkQyxRQUFRQyxJQUFJLENBQUNuQixFQUFNZ0IsSUFDbkJJLEVBQVlDLFlBQVlyQixHQUN4QnNCLEVBQVNDLFlBQVlQLEVBQ3RCLElBQ0FRLE9BQU0sU0FBQ0MsR0FDTlAsUUFBUUMsSUFBSU0sRUFDYixJQUlMLElBQU1DLEVBQWEsSUFBSWxELEVBQWUsZ0JBR3JDLFNBQVN2RSxFQUFnQlUsRUFBTUYsR0FDekJpSCxFQUFXQyxLQUFLaEgsRUFBTUYsRUFDM0IsQ0FKRGlILEVBQVdFLG9CQU9aLElBQU1DLEVBQWEsU0FBQTlILEdBS2IsT0FKUyxJQUFJRCxFQUFLLENBQUVXLEtBQU1WLEVBQVFVLEtBQU1FLEtBQU1aLEVBQVFZLEtBQU1YLE9BQVFELEVBQVFDLFFBQVVBLEVBQVFWLEVBQVlXLEdBRWpGNkgsY0FHNUIsRUFFS1IsRUFBVyxJQUFJbEUsRUFBUSxDQUMxQkUsU0FBVSxTQUFDdkQsR0FDVixJQUFNZ0ksRUFBT0YsRUFBVzlILEdBQ3hCdUgsRUFBU1UsUUFBUUQsRUFDbEIsR0FDRSxpQkFJRFgsRUFBYyxJQUFJL0IsRUFBU0MsR0FJM0IyQyxFQUFvQixJQUFJdEQsRUFDNUIsY0FBZSxDQUNkQyxhQUFjLFNBQUNJLEdBQ2QyQixFQUFJdUIsYUFBYWxELEdBQ2J4RyxNQUFLLFNBQUNQLEdBQ05tSixFQUFZQyxZQUFZcEosRUFDekIsSUFDQXVKLE9BQU0sU0FBQUMsR0FBRyxPQUFJUCxRQUFRQyxJQUFSLGlCQUFzQk0sR0FBMUIsR0FDWixJQUVEUSxFQUFrQkwsb0JBRWxCLElBQU1PLEVBQXNCLElBQUl4RCxFQUMvQixnQkFBaUIsQ0FDaEJDLGFBQWMsU0FBQ2xHLEdBQ2RpSSxFQUFJeUIsYUFBYTFKLEdBQ2JGLE1BQUssU0FBQ1AsR0FDTm1KLEVBQVlDLFlBQVlwSixFQUN6QixJQUNBdUosT0FBTSxTQUFBQyxHQUFHLE9BQUlQLFFBQVFDLElBQVIsaUJBQXNCTSxHQUExQixHQUNaLElBRURVLEVBQW9CUCxvQkFFekIsSUFBTVMsRUFBa0IsSUFBSTFELEVBQzFCLGFBQWMsQ0FDYkMsYUFBYyxTQUFBbEcsR0FDYixJQUFNNEosRUFBZTVKLEVBQUs2SixRQUNwQkMsRUFBWTlKLEVBQUtpQyxLQUNqQjhILEVBQVVaLEVBQVcsQ0FBQ3BILEtBQU02SCxFQUFjM0gsS0FBTTZILElBQ3REbEIsRUFBU1UsUUFBUVMsRUFDakIsSUFFRkosRUFBZ0JULG9CQU1sQnRCLEVBQWVwRixpQkFBaUIsU0FBUyxTQUFDZ0QsR0FDdENtRSxFQUFnQlYsT0FDaEJ2QixFQUFlc0MsUUFDZkMsaUJBQWlCQyxhQUNsQixJQUVIdkMsRUFBV25GLGlCQUFpQixTQUFTLFNBQUNnRCxHQUNsQytELEVBQWtCTixPQUNsQlAsRUFBWU4sY0FDWitCLGtCQUFrQkQsYUFDbkIsSUFFRjlILFNBQVNDLGNBQWM4RSxHQUFvQjNFLGlCQUFpQixTQUFTLFNBQUNnRCxHQUNuRWlFLEVBQW9CUixPQUNwQlAsRUFBWU4sY0FDWkwsRUFBb0JtQyxhQUN2QixHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL0FwaS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9zY3JpcHRzL3V0aWxzL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9Vc2VySW5mby5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9wYWdlcy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBjbGFzcyBBcGkge1xyXG4gICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xyXG4gICAgICB0aGlzLl91cmwgPSBvcHRpb25zLnVybDtcclxuICAgICAgdGhpcy5faGVhZGVycyA9IG9wdGlvbnMuaGVhZGVycztcclxuICAgIH1cclxuICAvL9Cf0L7Qu9GD0YfQtdC90LjQtSDQvtGC0LLQtdGC0LAg0L7RgiDRgdC10YDQstC10YDQsFxyXG4gICBfZ2V0UmVzcG9uc2UocmVzKSB7XHJcbiAgICBpZiAocmVzLm9rKSB7XHJcbiAgICAgIHJldHVybiByZXMuanNvbigpOyAgICAgIFxyXG4gICB9XHJcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChg0J7RiNC40LHQutCwOiAke3Jlcy5zdGF0dXN9YCk7XHJcbiAgIH0gXHJcblxyXG4gICAvL9CX0LDQs9GA0YPQt9C60LAg0LrQsNGA0YLQvtGH0LXQuiDRgSDRgdC10YDQstC10YDQsCAgXHJcbiAgICBnZXRJbml0aWFsQ2FyZHMoKSB7XHJcbiAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9L2NhcmRzYCwge1xyXG4gICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnNcclxuICAgICAgfSlcclxuICAgICAgLnRoZW4oKHJlcykgPT4gdGhpcy4gX2dldFJlc3BvbnNlKHJlcykpO1xyXG4gICAgICBcclxuICB9IFxyXG4gICAgXHJcbiAgIC8vINCX0LDQs9GA0YPQt9C60LAg0LTQsNC90L3Ri9GFINC/0YDQvtGE0LjQu9GPINGBINGB0LXRgNCy0LXRgNCwXHJcbiAgICBnZXRVc2VySW5mbygpIHtcclxuICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH0vdXNlcnMvbWVgLCB7XHJcbiAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVyc1xyXG4gICAgICB9KVxyXG4gICAgICAgIC50aGVuKChyZXMpID0+IHRoaXMuIF9nZXRSZXNwb25zZShyZXMpKTtcclxuICAgIH1cclxuXHJcbiAgICAvL9Cg0LXQtNCw0LrRgtC40YDQvtCy0LDQvdC40LUg0L/RgNC+0YTQuNC70Y9cclxuICAgIGVkaXRVc2VySW5mbyhkYXRhKSB7XHJcbiAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9L3VzZXJzL21lYCwge1xyXG4gICAgICAgIG1ldGhvZDogJ1BBVENIJyxcclxuICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLCAgICAgIFxyXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhdGEpXHJcbiAgICAgIH0pXHJcbiAgICAgIC50aGVuKChyZXMpID0+IHRoaXMuIF9nZXRSZXNwb25zZShyZXMpKTtcclxuICAgIH1cclxuXHJcbiAgICAvL9Ce0LHQvdC+0LLQu9C10L3QuNC1INCw0LLQsNGC0LDRgNCwINC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRj1xyXG4gICAgICB1cGRhdGVBdmF0YXIoZGF0YSkge1xyXG4gICAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9L3VzZXJzL21lL2F2YXRhcmAsIHtcclxuICAgICAgICAgIG1ldGhvZDogJ1BBVENIJyxcclxuICAgICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsICAgICAgXHJcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShkYXRhKVxyXG4gICAgICB9KVxyXG4gICAgICAudGhlbigocmVzKSA9PiB0aGlzLiBfZ2V0UmVzcG9uc2UocmVzKSk7XHJcbiAgICB9XHJcblxyXG4gICAvLyDQlNC+0LHQsNCy0LvQtdC90LjQtSDQvdC+0LLQvtC5INC60LDRgNGC0L7Rh9C60LhcclxuICAgICBhZGRDYXJkKGRhdGEpIHtcclxuICAgICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfS9jYXJkc2AsIHtcclxuICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycywgICAgICAgICAgXHJcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShkYXRhKVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnRoZW4oKHJlcykgPT4gdGhpcy4gX2dldFJlc3BvbnNlKHJlcykpO1xyXG4gICAgICB9XHJcblxyXG4vLyDQlNGA0YPQs9C40LUg0LzQtdGC0L7QtNGLXHJcbiBcclxuICB9IiwiICBleHBvcnQgY29uc3QgdmFsaWRhdGlvbkNvbmZpZyA9IHtcclxuICAgIGZvcm1TZWxlY3RvcjogJy5wb3B1cF9fY29udGFpbmVyJyxcclxuICAgIGlucHV0U2VsZWN0b3I6ICcucG9wdXBfX2ZpZWxkJyxcclxuICAgIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiAnLnBvcHVwX19idG4tc3VibWl0JyxcclxuICAgIGluYWN0aXZlQnV0dG9uQ2xhc3M6ICdwb3B1cF9fYnRuLXN1Ym1pdF9kaXNhYmxlZCcsXHJcbiAgICBpbnB1dEVycm9yQ2xhc3M6ICdwb3B1cF9fZmllbGRfaW52YWxpZCcsXHJcbiAgICBlcnJvckNsYXNzOiAncG9wdXBfX2Vycm9yLW1lc3NhZ2VfdmlzaWJsZSdcclxuICB9O1xyXG5cclxuICBleHBvcnQgY29uc3QgY2FyZENvbmZpZyA9IHtcclxuICAgIGNhcmRTZWxlY3RvcjogJy5waG90by1jYXJkLXRlbXBsYXRlJyxcclxuICAgIG9uZUNhcmRTZWxlY3RvcjogJy5waG90by1jYXJkJyxcclxuICAgIGxpa2VCdXR0b25TZWxlY3RvcjogJy5waG90by1jYXJkX19saWtlJyxcclxuICAgIGFjdGl2ZUxpa2VDbGFzczogJ3Bob3RvLWNhcmRfX2xpa2VfYWN0aXZlJyxcclxuICAgIGRlbGV0ZUJ1dHRvblNlbGVjdG9yOiAnLnBob3RvLWNhcmRfX2J0bi1kZWxldGUnLFxyXG4gICAgaW1hZ2VTZWxlY3RvcjogJy5waG90by1jYXJkX19pbWFnZScsXHJcbiAgICB0ZXh0U2VsZWN0b3I6ICcucGhvdG8tY2FyZF9fdGV4dCcgICAgIFxyXG4gIH07IFxyXG5cclxuICBleHBvcnQgY29uc3QgYXBpT3B0aW9ucyA9IHtcclxuICAgIHVybDogJ2h0dHBzOi8vbWVzdG8ubm9tb3JlcGFydGllcy5jby92MS9jb2hvcnQtNDcnLFxyXG4gICAgaGVhZGVyczoge1xyXG4gICAgICBhdXRob3JpemF0aW9uOiAnM2I2N2FjMTEtYjI5ZS00MTgyLTkxMTAtYTZmOGFiNWQ4YjE3JyxcclxuICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyAgIFxyXG4gIH1cclxufTsiLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBDYXJkIHtcclxuICBjb25zdHJ1Y3RvcihlbGVtZW50LCB1c2VySWQsIGNhcmRDb25maWcsIGhhbmRsZUNhcmRDbGljaykge1xyXG4gICAgdGhpcy5fY2FyZENvbmZpZyA9IGNhcmRDb25maWc7XHJcbiAgICB0aGlzLl9uYW1lID0gZWxlbWVudC5uYW1lO1xyXG4gICAgdGhpcy5fbGluayA9IGVsZW1lbnQubGluazsgICAgICAgXHJcbiAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2sgPSBoYW5kbGVDYXJkQ2xpY2ssXHJcbiAgICB0aGlzLl91c2VySWQgPSB1c2VySWQgICAgIFxyXG4gIH07ICBcclxuXHJcbl9nZXRUZW1wbGF0ZSgpIHsgIFxyXG4gICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLl9jYXJkQ29uZmlnLmNhcmRTZWxlY3RvcilcclxuICAgICAgICAuY29udGVudFxyXG4gICAgICAgIC5xdWVyeVNlbGVjdG9yKHRoaXMuX2NhcmRDb25maWcub25lQ2FyZFNlbGVjdG9yKVxyXG4gICAgICAgIC5jbG9uZU5vZGUodHJ1ZSk7XHJcbiAgICAgIHJldHVybiBjYXJkRWxlbWVudDtcclxuICB9O1xyXG5cclxuICBfaGFuZGxlTGlrZUJ1dHRvbiA9ICgpID0+IHtcclxuICAgIHRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LnRvZ2dsZSh0aGlzLl9jYXJkQ29uZmlnLmFjdGl2ZUxpa2VDbGFzcyk7XHJcbiB9O1xyXG5cclxuIF9oYW5kbGVEZWxldGVCdXR0b24gPSAoKSA9PiB7XHJcbiAgICAgdGhpcy5fZWxlbWVudC5yZW1vdmUoKTtcclxuICAgICB0aGlzLl9lbGVtZW50ID0gbnVsbDtcclxuIH07IFxyXG4gXHJcbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuX2NhcmRDb25maWcuaW1hZ2VTZWxlY3RvcilcclxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRoaXMuX2hhbmRsZUNhcmRDbGljayh0aGlzLl9saW5rLCB0aGlzLl9uYW1lKSk7XHJcbiAgICB0aGlzLl9saWtlQnV0dG9uID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuX2NhcmRDb25maWcubGlrZUJ1dHRvblNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2xpa2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVMaWtlQnV0dG9uKTtcclxuICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLl9jYXJkQ29uZmlnLmRlbGV0ZUJ1dHRvblNlbGVjdG9yKVxyXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlRGVsZXRlQnV0dG9uKTtcclxuICB9O1xyXG4gXHJcbiAgZ2VuZXJhdGVDYXJkKCkge1xyXG4gICAgIHRoaXMuX2VsZW1lbnQgPSB0aGlzLl9nZXRUZW1wbGF0ZSgpOyAgICAgXHJcbiAgICAgdGhpcy5faW1hZ2UgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fY2FyZENvbmZpZy5pbWFnZVNlbGVjdG9yKTsgIFxyXG4gICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICAgdGhpcy5faW1hZ2Uuc3JjID0gdGhpcy5fbGluaztcclxuICAgICB0aGlzLl9pbWFnZS5hbHQgPSB0aGlzLl9uYW1lO1xyXG4gICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLl9jYXJkQ29uZmlnLnRleHRTZWxlY3RvcikudGV4dENvbnRlbnQgPSB0aGlzLl9uYW1lO1xyXG4gICAgIFxyXG4gICAgIHJldHVybiB0aGlzLl9lbGVtZW50O1xyXG4gICB9XHJcbiAgfSAiLCJcclxuICAgXHJcbiAgIGV4cG9ydCBkZWZhdWx0IGNsYXNzIEZvcm1WYWxpZGF0b3Ige1xyXG4gICAgICBjb25zdHJ1Y3Rvcih2YWxpZGF0aW9uQ29uZmlnLCBmb3JtRWxlbWVudCkge1xyXG4gICAgICB0aGlzLl92YWxpZGF0aW9uQ29uZmlnID0gdmFsaWRhdGlvbkNvbmZpZztcclxuICAgICAgdGhpcy5fZm9ybUVsZW1lbnQgPSBmb3JtRWxlbWVudDtcclxuICAgICAgdGhpcy5faW5wdXRMaXN0ID0gQXJyYXkuZnJvbSh0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX3ZhbGlkYXRpb25Db25maWcuaW5wdXRTZWxlY3RvcikpO1xyXG4gICAgICB0aGlzLl9idXR0b25FbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLl92YWxpZGF0aW9uQ29uZmlnLnN1Ym1pdEJ1dHRvblNlbGVjdG9yKTtcclxuICAgIH1cclxuXHJcbiAgX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCkgeyBcclxuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgKTtcclxuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX3ZhbGlkYXRpb25Db25maWcuaW5wdXRFcnJvckNsYXNzKTtcclxuICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IGlucHV0RWxlbWVudC52YWxpZGF0aW9uTWVzc2FnZTtcclxuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX3ZhbGlkYXRpb25Db25maWcuZXJyb3JDbGFzcyk7XHJcbiAgfVxyXG5cclxuICBfaGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KSB7XHJcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGAuJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYCk7XHJcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl92YWxpZGF0aW9uQ29uZmlnLmlucHV0RXJyb3JDbGFzcyk7XHJcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSAnJztcclxuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX3ZhbGlkYXRpb25Db25maWcuZXJyb3JDbGFzcyk7XHJcbiAgfVxyXG5cclxuICBjbGVhckVycm9ycygpIHtcclxuICAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7ICAgXHJcbiAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTsgXHJcbiAgIH0pOyBcclxuICAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpXHJcbiAgfVxyXG4gICBcclxuICAgX2hhc0ludmFsaWRJbnB1dCgpIHtcclxuICAgIHJldHVybiB0aGlzLl9pbnB1dExpc3Quc29tZSgoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICByZXR1cm4gIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZDtcclxuICB9KTsgXHJcbiAgfVxyXG4gIFxyXG4gIF90b2dnbGVCdXR0b25TdGF0ZSgpIHtcclxuICAgIGlmICh0aGlzLl9oYXNJbnZhbGlkSW5wdXQoKSkge1xyXG4gICAgICB0aGlzLl9idXR0b25FbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fdmFsaWRhdGlvbkNvbmZpZy5pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgdHJ1ZSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9idXR0b25FbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fdmFsaWRhdGlvbkNvbmZpZy5pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICAgICB0aGlzLl9idXR0b25FbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgnZGlzYWJsZWQnLCB0cnVlKTtcclxuICAgIH07XHJcbiAgfSBcclxuXHJcbiAgX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpIHsgXHJcbiAgICBpZiAoIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCkge1xyXG4gICAgICB0aGlzLl9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7ICAgIFxyXG4gICAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaChpbnB1dEVsZW1lbnQgPT4ge1xyXG4gICAgICAgICAgIGlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcclxuICAgICAgICAgICB0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KTtcclxuICAgICAgICAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7IFxyXG4gIH1cclxuXHJcbiAgIGVuYWJsZVZhbGlkYXRpb24oKSB7XHJcbiAgICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgfVxyXG59ICAgIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VjdGlvbiB7XHJcbiAgICBjb25zdHJ1Y3Rvcih7IHJlbmRlcmVyIH0sIGNvbnRhaW5lclNlbGVjdG9yKSB7XHJcbiAgICAgICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcclxuICAgICAgICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbnRhaW5lclNlbGVjdG9yKTtcclxuICAgIH1cclxuXHJcbiAgICBhZGRJdGVtKGVsZW1lbnQpIHtcclxuICAgICAgICB0aGlzLl9jb250YWluZXIucHJlcGVuZChlbGVtZW50KTtcclxuICAgIFxyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlckl0ZW1zKGl0ZW1zKSB7XHJcbiAgICAgICAgaXRlbXMuZm9yRWFjaChpdGVtID0+IHRoaXMuX3JlbmRlcmVyKGl0ZW0pKTtcclxuICAgICAgfVxyXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXAge1xyXG4gICAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xyXG4gICAgICAgICAgIHRoaXMuX3BvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cFNlbGVjdG9yKTtcclxuICAgICAgICAgICB0aGlzLl9oYW5kbGVFc2NDbG9zZSA9IHRoaXMuX2hhbmRsZUVzY0Nsb3NlLmJpbmQodGhpcyk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICB9XHJcblxyXG4gICAgb3BlbigpIHtcclxuICAgICAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QuYWRkKCdwb3B1cF9vcGVuZWQnKTtcclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5faGFuZGxlRXNjQ2xvc2UpOyAgICAgIFxyXG4gICAgfVxyXG5cclxuICAgIGNsb3NlKCkge1xyXG4gICAgICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5yZW1vdmUoJ3BvcHVwX29wZW5lZCcpO1xyXG4gICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7ICAgICAgICBcclxuICAgIH0gXHJcblxyXG4gICAgX2hhbmRsZUNsb3NlUG9wdXBUb092ZXJsYXlPckJ1dHRvbihlKSB7XHJcbiAgICAgIGlmKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygncG9wdXAnKXx8ZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdwb3B1cF9fYnRuLWNsb3NlJykpIHtcclxuICAgICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgX2hhbmRsZUVzY0Nsb3NlKGUpIHtcclxuICAgICAgaWYoZS5rZXkgPT09ICdFc2NhcGUnKSB7XHJcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgICAgdGhpcy5fcG9wdXAuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgKGUpID0+IHtcclxuICAgICAgICAgICB0aGlzLl9oYW5kbGVDbG9zZVBvcHVwVG9PdmVybGF5T3JCdXR0b24oZSk7ICAgICAgICAgXHJcbiAgICAgIH0pXHJcbiAgIH1cclxuICB9XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xyXG4gICAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xyXG4gICAgICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgICAgIHRoaXMuX3BvcHVwQ2FwdGlvbiA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5waG90by1wb3B1cF9fY2FwdGlvbicpOyBcclxuICAgICAgICB0aGlzLl9wb3B1cEltYWdlID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBob3RvLXBvcHVwX19pbWFnZScpOyAgICAgICAgICAgIFxyXG4gICAgfVxyXG5cclxuICAgIG9wZW4obGluaywgbmFtZSkge1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgdGhpcy5fcG9wdXBJbWFnZS5zcmMgPSBsaW5rO1xyXG4gICAgICAgIHRoaXMuX3BvcHVwQ2FwdGlvbi5hbHQgPSBuYW1lO1xyXG4gICAgICAgIHRoaXMuX3BvcHVwQ2FwdGlvbi50ZXh0Q29udGVudCA9IG5hbWU7IFxyXG4gICAgICAgIHN1cGVyLm9wZW4oKTsgICAgICAgIFxyXG4gICAgfSAgXHJcbn1cclxuXHJcbmltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiOyIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xyXG4gICAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvciwge2hhbmRsZVN1Ym1pdH0pIHtcclxuICAgICAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICAgICAgICB0aGlzLl9oYW5kbGVTdWJtaXQgPSBoYW5kbGVTdWJtaXQ7XHJcbiAgICAgICAgdGhpcy5fZm9ybSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fY29udGFpbmVyJyk7ICAgICAgICBcclxuICAgICAgICB0aGlzLl9pbnB1dHMgPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoJy5wb3B1cF9fZmllbGQnKTsgXHJcbiAgICB9XHJcbiAgICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XHJcbiAgICAgICAgY29uc3QgdmFsdWVzID0ge307XHJcbiAgICAgICAgdGhpcy5faW5wdXRzLmZvckVhY2goaW5wdXQgPT4ge1xyXG4gICAgICAgICAgICB2YWx1ZXNbaW5wdXQubmFtZV0gPSBpbnB1dC52YWx1ZTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIHJldHVybiB2YWx1ZXM7ICAgICAgIFxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBzZXRFdmVudExpc3RlbmVycygpIHsgICAgICAgXHJcbiAgICAgICB0aGlzLl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChlKSA9PiB7XHJcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7IFxyXG4gICAgICAgICAgdGhpcy5faGFuZGxlU3VibWl0KHRoaXMuX2dldElucHV0VmFsdWVzKCkpOyAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgIH0pO1xyXG4gICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICB9ICAgIFxyXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlckluZm8ge1xyXG4gICAgY29uc3RydWN0b3IodXNlckRhdGEpIHtcclxuICAgICAgIHRoaXMuX3VzZXJEYXRhID0gdXNlckRhdGE7XHJcbiAgICAgICB0aGlzLl91c2VyTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodXNlckRhdGEudXNlck5hbWVTZWxlY3Rvcik7XHJcbiAgICAgICB0aGlzLl91c2VySm9iID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih1c2VyRGF0YS51c2VySm9iU2VsZWN0b3IpXHJcbiAgICAgICB0aGlzLl9hdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHVzZXJEYXRhLnVzZXJBdmF0YXJTZWxlY3Rvcik7ICAgICAgXHJcbiAgICB9XHJcblxyXG4vLyDQnNC10YLQvtC0INCy0L7Qt9Cy0YDQsNGJ0LDQtdGCINC+0LHRitC10LrRgiDRgSDQuNC90YTQvtGA0LzQsNGG0LjQtdC5INC+INC/0L7Qu9GM0LfQvtCy0LDRgtC10LvQtSDRgdC+INGB0YLRgNCw0L3QuNGG0YsgXHJcbiAgICBnZXRVc2VySW5mbygpIHtcclxuICAgIHRoaXMuX3VzZXJJbmZvID0ge1xyXG4gICAgICAgIG5hbWU6IHRoaXMuX3VzZXJOYW1lLnRleHRDb250ZW50LFxyXG4gICAgICAgIGFib3V0OiB0aGlzLl91c2VySm9iLnRleHRDb250ZW50ICAgICAgIFxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRoaXMuX3VzZXJJbmZvO1xyXG4gICAgfVxyXG5cclxuLy8g0JzQtdGC0L7QtCDQsdC10YDQtdGCINC90YPQttC90YvQtSDQtNCw0L3QvdGL0LUg0LjQtyDQvNCw0YHRgdC40LLQsCDQtNCw0L3QvdGL0YUg0Lgg0LLRi9Cy0L7QtNC40YIg0L3QsCDRgdGC0YDQsNC90LjRhtGDXHJcbiAgICBzZXRVc2VySW5mbyh1c2VyKSB7XHJcbiAgICAgICAgdGhpcy5fdXNlck5hbWUudGV4dENvbnRlbnQgPSB1c2VyLm5hbWU7XHJcbiAgICAgICAgdGhpcy5fdXNlckpvYi50ZXh0Q29udGVudCA9IHVzZXIuYWJvdXQ7XHJcbiAgICAgICAgdGhpcy5fYXZhdGFyLnNyYyA9IHVzZXIuYXZhdGFyO1xyXG4gICAgfSAgICBcclxufVxyXG4iLCJpbXBvcnQgJy4vaW5kZXguY3NzJztcclxuaW1wb3J0IEFwaSBmcm9tIFwiLi4vc2NyaXB0cy9jb21wb25lbnRzL0FwaS5qc1wiO1xyXG5pbXBvcnQgeyB2YWxpZGF0aW9uQ29uZmlnLCBjYXJkQ29uZmlnLCBhcGlPcHRpb25zIH0gZnJvbSBcIi4uL3NjcmlwdHMvdXRpbHMvY29uc3RhbnRzLmpzXCJcclxuaW1wb3J0IENhcmQgZnJvbSBcIi4uL3NjcmlwdHMvY29tcG9uZW50cy9DYXJkLmpzXCI7XHJcbmltcG9ydCBGb3JtVmFsaWRhdG9yIGZyb20gXCIuLi9zY3JpcHRzL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qc1wiO1xyXG5pbXBvcnQgU2VjdGlvbiBmcm9tIFwiLi4vc2NyaXB0cy8vY29tcG9uZW50cy9TZWN0aW9uLmpzXCI7XHJcbmltcG9ydCBQb3B1cFdpdGhJbWFnZSBmcm9tIFwiLi4vc2NyaXB0cy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzXCI7XHJcbmltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gXCIuLi9zY3JpcHRzL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qc1wiO1xyXG5pbXBvcnQgVXNlckluZm8gZnJvbSBcIi4uL3NjcmlwdHMvY29tcG9uZW50cy9Vc2VySW5mby5qc1wiO1xyXG5jb25zdCB1c2VyTmFtZVNlbGVjdG9yID0gJy5wcm9maWxlX19uYW1lJzsgXHJcbmNvbnN0IHVzZXJKb2JTZWxlY3RvciA9ICcucHJvZmlsZV9fam9iJztcclxuY29uc3QgdXNlckF2YXRhclNlbGVjdG9yID0gJy5wcm9maWxlX19pbWFnZSc7XHJcbmNvbnN0IHVzZXJEYXRhID0ge3VzZXJOYW1lU2VsZWN0b3IsIHVzZXJKb2JTZWxlY3RvciwgdXNlckF2YXRhclNlbGVjdG9yfTtcclxuY29uc3QgZm9ybUVkaXRFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmVkaXQtcG9wdXBfX2NvbnRhaW5lcicpO1xyXG5jb25zdCBmb3JtQXZhdGFyRWRpdEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYXZhdGFyLXBvcHVwX19jb250YWluZXInKTtcclxuY29uc3QgZm9ybUFkZEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmFkZC1wb3B1cF9fY29udGFpbmVyW25hbWU9J2FkZC1waG90byddXCIpO1xyXG5jb25zdCBidXR0b25FZGl0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2VkaXQtYnV0dG9uJyk7XHJcbmNvbnN0IGJ1dHRvbkFkZFBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2FkZC1idXR0b24nKTtcclxuY29uc3QgdmFsaWRhdG9yRWRpdEZvcm0gPSBuZXcgRm9ybVZhbGlkYXRvcih2YWxpZGF0aW9uQ29uZmlnLCBmb3JtRWRpdEVsZW1lbnQpO1xyXG5jb25zdCB2YWxpZGF0b3JBZGRGb3JtID0gbmV3IEZvcm1WYWxpZGF0b3IodmFsaWRhdGlvbkNvbmZpZywgZm9ybUFkZEVsZW1lbnQpO1xyXG5jb25zdCB2YWxpZGF0b3JBdmF0YXJGb3JtID0gbmV3IEZvcm1WYWxpZGF0b3IodmFsaWRhdGlvbkNvbmZpZywgZm9ybUF2YXRhckVkaXRFbGVtZW50KTtcclxuXHJcbi8v0JLRi9C30L7QsiDQstCw0LvQuNC00LDRgtC+0YDQvtCyXHJcblxyXG52YWxpZGF0b3JFZGl0Rm9ybS5lbmFibGVWYWxpZGF0aW9uKCk7XHJcbnZhbGlkYXRvckFkZEZvcm0uZW5hYmxlVmFsaWRhdGlvbigpO1xyXG52YWxpZGF0b3JBdmF0YXJGb3JtLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuXHJcbmNvbnN0IGFwaSA9IG5ldyBBcGkoYXBpT3B0aW9ucyk7XHJcblxyXG5sZXQgdXNlcklkO1xyXG5cclxuUHJvbWlzZS5hbGwoW2FwaS5nZXRVc2VySW5mbygpLCBhcGkuZ2V0SW5pdGlhbENhcmRzKCldKVxyXG4gICAgLnRoZW4oKFt1c2VyLCBjYXJkc10pID0+IHtcclxuICAgICAgdXNlcklkID0gdXNlci5faWQ7XHJcbiAgICAgIGNvbnNvbGUubG9nKFt1c2VyLCBjYXJkc10pO1xyXG4gICAgICBwcm9maWxlSW5mby5zZXRVc2VySW5mbyh1c2VyKTsgIFxyXG4gICAgICBjYXJkTGlzdC5yZW5kZXJJdGVtcyhjYXJkcyk7XHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgIH0pXHJcblxyXG5cclxuLy/QodC+0LfQtNCw0L3QuNC1INGN0LrQt9C10LzQv9C70Y/RgNCwINC60LvQsNGB0YHQsCDQv9C+0L/QsNC/0LAg0YEg0YTQvtGC0L5cclxuY29uc3QgaW1hZ2VQb3B1cCA9IG5ldyBQb3B1cFdpdGhJbWFnZSgnLnBob3RvLXBvcHVwJyk7XHJcbiBpbWFnZVBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG4gZnVuY3Rpb24gaGFuZGxlQ2FyZENsaWNrKGxpbmssIG5hbWUpIHsgIFxyXG4gICAgICAgaW1hZ2VQb3B1cC5vcGVuKGxpbmssIG5hbWUpO1xyXG4gfTtcclxuXHJcbi8v0KHQvtC30LTQsNC90LjQtSDRjdC60LfQtdC80L/Qu9GP0YDQvtCyINC60LvQsNGB0YHQvtCyINC60LDRgNGC0L7Rh9C10LpcclxuY29uc3QgY3JlYXRlQ2FyZCA9IGVsZW1lbnQgPT4ge1xyXG4gIGNvbnN0IGNhcmQgPSBuZXcgQ2FyZCh7IG5hbWU6IGVsZW1lbnQubmFtZSwgbGluazogZWxlbWVudC5saW5rLCB1c2VySWQ6IGVsZW1lbnQudXNlcklkIH0sIHVzZXJJZCwgY2FyZENvbmZpZywgaGFuZGxlQ2FyZENsaWNrKTtcclxuICAgICAgIFxyXG4gICAgICBjb25zdCBjYXJkRWxlbWVudCA9IGNhcmQuZ2VuZXJhdGVDYXJkKCk7XHJcblxyXG4gICAgICByZXR1cm4gY2FyZEVsZW1lbnQ7ICAgICAgXHJcbiAgfTsgIFxyXG5cclxuICBjb25zdCBjYXJkTGlzdCA9IG5ldyBTZWN0aW9uKHsgXHJcbiAgICAgcmVuZGVyZXI6IChlbGVtZW50KSA9PiB7XHJcbiAgICAgIGNvbnN0IGNhcmQgPSBjcmVhdGVDYXJkKGVsZW1lbnQpO1xyXG4gICAgICBjYXJkTGlzdC5hZGRJdGVtKGNhcmQpO1xyXG4gICAgfVxyXG4gICAgfSwgJy5waG90b3NfX2xpc3QnKTtcclxuICBcclxuXHJcbi8v0KHQvtC30LTQsNC90LjQtSDRjdC60LfQtdC80L/Qu9GP0YDQsCDQutC70LDRgdGB0LAgVXNlckluZm9cclxuY29uc3QgcHJvZmlsZUluZm8gPSBuZXcgVXNlckluZm8odXNlckRhdGEpO1xyXG5cclxuLy/QodC+0LfQtNCw0L3QuNC1INGN0LrQt9C10LzQv9C70Y/RgNC+0LIg0L/QvtC/0LDQv9C+0LIg0YEg0YTQvtGA0LzQvtC5XHJcblxyXG5jb25zdCBwb3B1cFdpdGhFZGl0Rm9ybSA9IG5ldyBQb3B1cFdpdGhGb3JtKFxyXG4gICcuZWRpdC1wb3B1cCcsIHtcclxuICAgaGFuZGxlU3VibWl0OiAodmFsdWVzKSA9PiB7XHJcbiAgICBhcGkuZWRpdFVzZXJJbmZvKHZhbHVlcylcclxuICAgICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgICBwcm9maWxlSW5mby5zZXRVc2VySW5mbyhyZXMpO1xyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goZXJyID0+IGNvbnNvbGUubG9nKGBFcnJvcjogJHtlcnJ9YCkpICAgICBcclxuICAgfVxyXG4gICB9KTtcclxuICAgcG9wdXBXaXRoRWRpdEZvcm0uc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbiAgIGNvbnN0IHBvcHVwV2l0aEF2YXRhckZvcm0gPSBuZXcgUG9wdXBXaXRoRm9ybShcclxuICAgICcuYXZhdGFyLXBvcHVwJywge1xyXG4gICAgIGhhbmRsZVN1Ym1pdDogKGRhdGEpID0+IHtcclxuICAgICAgYXBpLnVwZGF0ZUF2YXRhcihkYXRhKVxyXG4gICAgICAgICAudGhlbigocmVzKSA9PiB7XHJcbiAgICAgICAgICBwcm9maWxlSW5mby5zZXRVc2VySW5mbyhyZXMpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmNhdGNoKGVyciA9PiBjb25zb2xlLmxvZyhgRXJyb3I6ICR7ZXJyfWApKSAgICAgXHJcbiAgICAgfVxyXG4gICAgIH0pO1xyXG4gICAgIHBvcHVwV2l0aEF2YXRhckZvcm0uc2V0RXZlbnRMaXN0ZW5lcnMoKTsgIFxyXG5cclxuY29uc3QgcG9wdXBXaXRBZGRGb3JtID0gbmV3IFBvcHVwV2l0aEZvcm0oXHJcbiAgJy5hZGQtcG9wdXAnLCB7XHJcbiAgIGhhbmRsZVN1Ym1pdDogZGF0YSA9PiB7XHJcbiAgICBjb25zdCBjYXB0aW9uSW5wdXQgPSBkYXRhLmNhcHRpb247XHJcbiAgICBjb25zdCBsaW5rSW5wdXQgPSBkYXRhLmxpbms7IFxyXG4gICAgY29uc3QgbmV3Q2FyZCA9IGNyZWF0ZUNhcmQoe25hbWU6IGNhcHRpb25JbnB1dCwgbGluazogbGlua0lucHV0fSk7XHJcbiAgICBjYXJkTGlzdC5hZGRJdGVtKG5ld0NhcmQpOyAgIFxyXG4gICB9XHJcbiAgfSk7IFxyXG4gIHBvcHVwV2l0QWRkRm9ybS5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuXHJcblxyXG4vL0xpc3RlbmVyc1xyXG5cclxuYnV0dG9uQWRkUG9wdXAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xyXG4gICAgcG9wdXBXaXRBZGRGb3JtLm9wZW4oKTtcclxuICAgIGZvcm1BZGRFbGVtZW50LnJlc2V0KCk7XHJcbiAgICB2YWxpZGF0b3JGb3JtQWRkLmNsZWFyRXJyb3JzKCk7XHJcbiAgfSk7XHJcblxyXG5idXR0b25FZGl0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcclxuICAgIHBvcHVwV2l0aEVkaXRGb3JtLm9wZW4oKTtcclxuICAgIHByb2ZpbGVJbmZvLmdldFVzZXJJbmZvKCk7IFxyXG4gICAgdmFsaWRhdG9yRm9ybUVkaXQuY2xlYXJFcnJvcnMoKTsgXHJcbiAgfSk7XHJcblxyXG4gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih1c2VyQXZhdGFyU2VsZWN0b3IpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcclxuICAgIHBvcHVwV2l0aEF2YXRhckZvcm0ub3BlbigpO1xyXG4gICAgcHJvZmlsZUluZm8uZ2V0VXNlckluZm8oKTsgXHJcbiAgICB2YWxpZGF0b3JBdmF0YXJGb3JtLmNsZWFyRXJyb3JzKCk7IFxyXG59KTsiXSwibmFtZXMiOlsiQXBpIiwib3B0aW9ucyIsInRoaXMiLCJfdXJsIiwidXJsIiwiX2hlYWRlcnMiLCJoZWFkZXJzIiwicmVzIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsInN0YXR1cyIsImZldGNoIiwidGhlbiIsIl9nZXRSZXNwb25zZSIsImRhdGEiLCJtZXRob2QiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsInZhbGlkYXRpb25Db25maWciLCJmb3JtU2VsZWN0b3IiLCJpbnB1dFNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiaW5wdXRFcnJvckNsYXNzIiwiZXJyb3JDbGFzcyIsImNhcmRDb25maWciLCJjYXJkU2VsZWN0b3IiLCJvbmVDYXJkU2VsZWN0b3IiLCJsaWtlQnV0dG9uU2VsZWN0b3IiLCJhY3RpdmVMaWtlQ2xhc3MiLCJkZWxldGVCdXR0b25TZWxlY3RvciIsImltYWdlU2VsZWN0b3IiLCJ0ZXh0U2VsZWN0b3IiLCJDYXJkIiwiZWxlbWVudCIsInVzZXJJZCIsImhhbmRsZUNhcmRDbGljayIsIl9saWtlQnV0dG9uIiwiY2xhc3NMaXN0IiwidG9nZ2xlIiwiX2NhcmRDb25maWciLCJfZWxlbWVudCIsInJlbW92ZSIsIl9uYW1lIiwibmFtZSIsIl9saW5rIiwibGluayIsIl9oYW5kbGVDYXJkQ2xpY2siLCJfdXNlcklkIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiY29udGVudCIsImNsb25lTm9kZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJfaGFuZGxlTGlrZUJ1dHRvbiIsIl9oYW5kbGVEZWxldGVCdXR0b24iLCJfZ2V0VGVtcGxhdGUiLCJfaW1hZ2UiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJzcmMiLCJhbHQiLCJ0ZXh0Q29udGVudCIsIkZvcm1WYWxpZGF0b3IiLCJmb3JtRWxlbWVudCIsIl92YWxpZGF0aW9uQ29uZmlnIiwiX2Zvcm1FbGVtZW50IiwiX2lucHV0TGlzdCIsIkFycmF5IiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJfYnV0dG9uRWxlbWVudCIsImlucHV0RWxlbWVudCIsImVycm9yRWxlbWVudCIsImlkIiwiYWRkIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJmb3JFYWNoIiwiX2hpZGVJbnB1dEVycm9yIiwiX3RvZ2dsZUJ1dHRvblN0YXRlIiwic29tZSIsInZhbGlkaXR5IiwidmFsaWQiLCJfaGFzSW52YWxpZElucHV0Iiwic2V0QXR0cmlidXRlIiwicmVtb3ZlQXR0cmlidXRlIiwiX3Nob3dJbnB1dEVycm9yIiwiX2NoZWNrSW5wdXRWYWxpZGl0eSIsIlNlY3Rpb24iLCJjb250YWluZXJTZWxlY3RvciIsInJlbmRlcmVyIiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lciIsInByZXBlbmQiLCJpdGVtcyIsIml0ZW0iLCJQb3B1cCIsInBvcHVwU2VsZWN0b3IiLCJfcG9wdXAiLCJfaGFuZGxlRXNjQ2xvc2UiLCJiaW5kIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImUiLCJ0YXJnZXQiLCJjb250YWlucyIsImNsb3NlIiwia2V5IiwiX2hhbmRsZUNsb3NlUG9wdXBUb092ZXJsYXlPckJ1dHRvbiIsIlBvcHVwV2l0aEltYWdlIiwiX3BvcHVwQ2FwdGlvbiIsIl9wb3B1cEltYWdlIiwiUG9wdXBXaXRoRm9ybSIsImhhbmRsZVN1Ym1pdCIsIl9oYW5kbGVTdWJtaXQiLCJfZm9ybSIsIl9pbnB1dHMiLCJ2YWx1ZXMiLCJpbnB1dCIsInZhbHVlIiwicHJldmVudERlZmF1bHQiLCJfZ2V0SW5wdXRWYWx1ZXMiLCJVc2VySW5mbyIsInVzZXJEYXRhIiwiX3VzZXJEYXRhIiwiX3VzZXJOYW1lIiwidXNlck5hbWVTZWxlY3RvciIsIl91c2VySm9iIiwidXNlckpvYlNlbGVjdG9yIiwiX2F2YXRhciIsInVzZXJBdmF0YXJTZWxlY3RvciIsIl91c2VySW5mbyIsImFib3V0IiwidXNlciIsImF2YXRhciIsImZvcm1FZGl0RWxlbWVudCIsImZvcm1BdmF0YXJFZGl0RWxlbWVudCIsImZvcm1BZGRFbGVtZW50IiwiYnV0dG9uRWRpdCIsImJ1dHRvbkFkZFBvcHVwIiwidmFsaWRhdG9yRWRpdEZvcm0iLCJ2YWxpZGF0b3JBZGRGb3JtIiwidmFsaWRhdG9yQXZhdGFyRm9ybSIsImVuYWJsZVZhbGlkYXRpb24iLCJhcGkiLCJhdXRob3JpemF0aW9uIiwiYWxsIiwiZ2V0VXNlckluZm8iLCJnZXRJbml0aWFsQ2FyZHMiLCJjYXJkcyIsIl9pZCIsImNvbnNvbGUiLCJsb2ciLCJwcm9maWxlSW5mbyIsInNldFVzZXJJbmZvIiwiY2FyZExpc3QiLCJyZW5kZXJJdGVtcyIsImNhdGNoIiwiZXJyIiwiaW1hZ2VQb3B1cCIsIm9wZW4iLCJzZXRFdmVudExpc3RlbmVycyIsImNyZWF0ZUNhcmQiLCJnZW5lcmF0ZUNhcmQiLCJjYXJkIiwiYWRkSXRlbSIsInBvcHVwV2l0aEVkaXRGb3JtIiwiZWRpdFVzZXJJbmZvIiwicG9wdXBXaXRoQXZhdGFyRm9ybSIsInVwZGF0ZUF2YXRhciIsInBvcHVwV2l0QWRkRm9ybSIsImNhcHRpb25JbnB1dCIsImNhcHRpb24iLCJsaW5rSW5wdXQiLCJuZXdDYXJkIiwicmVzZXQiLCJ2YWxpZGF0b3JGb3JtQWRkIiwiY2xlYXJFcnJvcnMiLCJ2YWxpZGF0b3JGb3JtRWRpdCJdLCJzb3VyY2VSb290IjoiIn0=